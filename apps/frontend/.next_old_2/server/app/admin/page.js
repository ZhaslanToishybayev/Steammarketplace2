(()=>{var e={};e.id=3,e.ids=[3],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5938:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=a(7096),s=a(6132),n=a(7284),l=a.n(n),i=a(2564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,881)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/admin/page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,9862)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,769)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/admin/page.tsx"],m="/admin/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9329:(e,t,a)=>{Promise.resolve().then(a.bind(a,1084))},9204:(e,t,a)=>{Promise.resolve().then(a.bind(a,9392))},1084:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var r=a(3854),s=a(7782),n=a(4218),l=a(1018),i=a(5548),o=a.n(i);function d({children:e}){let{admin:t,isLoading:a,logout:i}=(0,s.J3)(),d=(0,l.useRouter)(),c=(0,l.usePathname)(),[m,u]=(0,n.useState)(!0);return((0,n.useEffect)(()=>{a||t||"/admin/login"===c||d.push("/admin/login")},[t,a,c,d]),"/admin/login"===c)?r.jsx(r.Fragment,{children:e}):a?r.jsx("div",{className:"min-h-screen bg-[var(--bg-primary)] flex items-center justify-center",children:r.jsx("div",{className:"animate-spin w-8 h-8 border-2 border-[var(--accent-blue)] border-t-transparent rounded-full"})}):t?(0,r.jsxs)("div",{className:"min-h-screen bg-[var(--bg-primary)] flex",children:[(0,r.jsxs)("aside",{className:`${m?"w-64":"w-16"} bg-[var(--bg-secondary)] border-r border-[var(--border-default)] transition-all duration-300 flex flex-col`,children:[(0,r.jsxs)("div",{className:"p-4 border-b border-[var(--border-default)] flex items-center gap-3",children:[r.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[var(--accent-red)] to-[var(--accent-orange)] rounded-lg flex items-center justify-center shrink-0",children:r.jsx("span",{className:"text-white font-bold",children:"A"})}),m&&r.jsx("span",{className:"font-bold text-white",children:"Admin Panel"})]}),r.jsx("nav",{className:"flex-1 p-3",children:[{href:"/admin",label:"Dashboard",icon:"\uD83D\uDCCA"},{href:"/admin/users",label:"Users",icon:"\uD83D\uDC65"},{href:"/admin/listings",label:"Listings",icon:"\uD83D\uDCE6"},{href:"/admin/trades",label:"Trades",icon:"\uD83D\uDD04"},{href:"/admin/bots",label:"Bots",icon:"\uD83E\uDD16"},{href:"/admin/logs",label:"Audit Logs",icon:"\uD83D\uDCCB"}].map(e=>{let t=c===e.href||"/admin"!==e.href&&c.startsWith(e.href);return(0,r.jsxs)(o(),{href:e.href,className:`flex items-center gap-3 px-3 py-2.5 rounded-lg mb-1 transition-colors ${t?"bg-[var(--accent-blue)] text-white":"text-[var(--text-secondary)] hover:bg-[var(--bg-tertiary)] hover:text-white"}`,children:[r.jsx("span",{className:"text-lg",children:e.icon}),m&&r.jsx("span",{children:e.label})]},e.href)})}),r.jsx("div",{className:"p-4 border-t border-[var(--border-default)]",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 bg-[var(--accent-blue)] rounded-full flex items-center justify-center text-white font-bold text-sm",children:t.username[0].toUpperCase()}),m&&(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("div",{className:"text-sm font-medium text-white truncate",children:t.username}),r.jsx("div",{className:"text-xs text-[var(--text-muted)]",children:t.role})]}),r.jsx("button",{onClick:i,className:"text-[var(--text-muted)] hover:text-[var(--accent-red)] transition-colors",title:"Logout",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})}),r.jsx("button",{onClick:()=>u(!m),className:"absolute top-20 -right-3 w-6 h-6 bg-[var(--bg-tertiary)] border border-[var(--border-default)] rounded-full flex items-center justify-center text-[var(--text-muted)] hover:text-white",children:m?"←":"→"})]}),r.jsx("main",{className:"flex-1 p-8 overflow-auto",children:e})]}):null}function c({children:e}){return r.jsx(s.W,{children:r.jsx(d,{children:e})})}},9392:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>i});var r=a(3854),s=a(4218),n=a(7782),l=a(1158);function i(){let{apiCall:e}=(0,n.U)(),[t,a]=(0,s.useState)(null),[i,o]=(0,s.useState)([]),[d,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{m()},[]);let m=async()=>{try{let t=await e("/dashboard");t.success&&(a(t.data.stats),o(t.data.recentTrades))}catch(e){console.error("Failed to load dashboard:",e)}finally{c(!1)}},u=t?[{label:"Total Users",value:t.totalUsers,icon:"\uD83D\uDC65",color:"blue"},{label:"Active Listings",value:t.activeListings,icon:"\uD83D\uDCE6",color:"green"},{label:"Total Trades",value:t.totalTrades,icon:"\uD83D\uDD04",color:"purple"},{label:"Online Bots",value:t.onlineBots,icon:"\uD83E\uDD16",color:"orange"},{label:"Total Volume",value:`$${t.totalVolume.toFixed(2)}`,icon:"\uD83D\uDCB0",color:"green"},{label:"Trades (24h)",value:t.trades24h,icon:"\uD83D\uDCCA",color:"blue"}]:[],h=e=>{switch(e){case"completed":return"green";case"pending":case"awaiting_seller":return"orange";case"cancelled":case"failed":return"red";default:return"blue"}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),r.jsx("p",{className:"text-[var(--text-secondary)] mt-1",children:"Overview of your marketplace"})]}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-8",children:d?Array.from({length:6}).map((e,t)=>r.jsx(l.Tb,{},t)):u.map((e,t)=>r.jsx(l.Zb,{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:e.label}),r.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:e.value})]}),r.jsx("span",{className:"text-2xl",children:e.icon})]})},t))}),(0,r.jsxs)(l.Zb,{children:[r.jsx("div",{className:"p-4 border-b border-[var(--border-default)]",children:r.jsx("h2",{className:"text-lg font-semibold text-white",children:"Recent Trades"})}),r.jsx(l.aY,{className:"p-0",children:d?r.jsx("div",{className:"p-8 text-center text-[var(--text-muted)]",children:"Loading..."}):0===i.length?r.jsx("div",{className:"p-8 text-center text-[var(--text-muted)]",children:"No trades yet"}):(0,r.jsxs)("table",{className:"table",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{children:"Item"}),r.jsx("th",{children:"Price"}),r.jsx("th",{children:"Status"}),r.jsx("th",{children:"Date"})]})}),r.jsx("tbody",{children:i.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{className:"font-medium",children:e.item_name}),(0,r.jsxs)("td",{className:"text-[var(--accent-green)]",children:["$",e.price]}),r.jsx("td",{children:r.jsx(l.Ct,{variant:h(e.status),children:e.status})}),r.jsx("td",{className:"text-[var(--text-muted)]",children:new Date(e.created_at).toLocaleDateString()})]},e.id))})]})})]})]})}},7782:(e,t,a)=>{"use strict";a.d(t,{J3:()=>l,U:()=>o,W:()=>i});var r=a(3854),s=a(4218);let n=(0,s.createContext)(null);function l(){let e=(0,s.useContext)(n);if(!e)throw Error("useAdminAuth must be used within AdminAuthProvider");return e}function i({children:e}){let[t,a]=(0,s.useState)(null),[l,i]=(0,s.useState)(null),[o,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=localStorage.getItem("admin_token");e?c(e):d(!1)},[]);let c=async e=>{try{let t=await fetch("http://localhost:3001/api/admin/verify",{headers:{Authorization:`Bearer ${e}`}}),r=await t.json();r.success?(a(r.admin),i(e)):localStorage.removeItem("admin_token")}catch(e){localStorage.removeItem("admin_token")}finally{d(!1)}},m=async(e,t)=>{try{let r=await fetch("http://localhost:3001/api/admin/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}),s=await r.json();if(s.success)return a(s.data.admin),i(s.data.token),localStorage.setItem("admin_token",s.data.token),!0;return!1}catch(e){return!1}};return r.jsx(n.Provider,{value:{admin:t,token:l,isLoading:o,login:m,logout:()=>{a(null),i(null),localStorage.removeItem("admin_token")}},children:e})}function o(){let{token:e}=l(),t=async(t,a={})=>{let r=await fetch(`http://localhost:3001/api/admin${t}`,{...a,headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`,...a.headers}});return r.json()};return{apiCall:t}}},9862:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var r=a(5153);let s=(0,r.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/admin/layout.tsx`),{__esModule:n,$$typeof:l}=s,i=s.default,o=i},881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var r=a(5153);let s=(0,r.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/admin/page.tsx`),{__esModule:n,$$typeof:l}=s,i=s.default,o=i}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[581,646,64,919,158],()=>a(5938));module.exports=r})();