(()=>{var e={};e.id=916,e.ids=[916],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2778:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>d,routeModule:()=>x,tree:()=>o});var a=s(7096),r=s(6132),n=s(7284),l=s.n(n),i=s(2564),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);s.d(t,c);let o=["",{children:["cs2",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,6102)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/cs2/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,769)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/cs2/page.tsx"],h="/cs2/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/cs2/page",pathname:"/cs2",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},6149:(e,t,s)=>{Promise.resolve().then(s.bind(s,6122))},6122:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(3854),r=s(4218),n=s(1018),l=s(5548),i=s.n(l),c=s(931),o=s(6384);function d(){let e=(0,n.useRouter)(),[t,s]=(0,r.useState)(null),{inventory:l,isLoading:d,error:h,refetch:m,invalidateCache:x,clearCache:u,cacheStatus:p,stats:g}=(0,o.i)({appId:730,enabled:!0,refetchInterval:3e5,retryOnFailure:!0});(0,r.useEffect)(()=>{let t=c.c.getUser();if(!t){e.push("/");return}s(t)},[e]);let f=()=>{let e=process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001";window.location.href=`${e}/auth/steam`},v=e=>{let t=e?.tags||[],s=e=>t.find(t=>String(t.category||t.internal_name||"").toLowerCase().includes(e))?.name||t.find(t=>String(t.category||"").toLowerCase().includes(e))?.localized_tag_name,a=s("type")||e.type,r=s("rarity"),n=s("exterior");return[r,n,a].filter(Boolean).join(" â€¢ ")};return d?a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading CS2 inventory..."})}):h?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx("header",{className:"border-b border-gray-800",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-8",children:(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0z"})})}),a.jsx("span",{className:"text-xl font-bold text-white",children:"SteamMarket"})]})}),t?(0,a.jsxs)(i(),{href:"/profile",className:"flex items-center space-x-3 bg-gray-900 hover:bg-gray-800 px-4 py-2 rounded-lg transition",children:[a.jsx("img",{src:t.avatar,alt:t.username,className:"h-8 w-8 rounded-full"}),a.jsx("div",{className:"hidden sm:block",children:a.jsx("div",{className:"text-white font-medium",children:t.username})})]}):(0,a.jsxs)("button",{onClick:f,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2 transition",children:[a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0z"})}),a.jsx("span",{children:"Login with Steam"})]})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"bg-gradient-to-br from-red-900/20 to-black border border-red-800/30 rounded-2xl p-12 text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-red-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx("svg",{className:"h-8 w-8 text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Error Loading CS2 Inventory"}),a.jsx("p",{className:"text-gray-300 mb-6",children:h}),(0,a.jsxs)("div",{className:"text-gray-500 text-sm space-y-2 max-w-md mx-auto",children:[a.jsx("p",{children:"Common issues:"}),a.jsx("p",{children:"â€¢ Steam inventory set to private"}),a.jsx("p",{children:"â€¢ No CS2 items in inventory"}),a.jsx("p",{children:"â€¢ Steam API rate limit reached"}),a.jsx("a",{href:"https://steamcommunity.com/my/edit/settings",target:"_blank",className:"inline-block mt-4 text-blue-400 hover:text-blue-300",children:"Check Steam Privacy Settings â†’"})]})]})})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx("header",{className:"border-b border-gray-800",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-8",children:[(0,a.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center",children:a.jsx("svg",{className:"h-6 w-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0z"})})}),a.jsx("span",{className:"text-xl font-bold text-white",children:"SteamMarket"})]}),t&&(0,a.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[a.jsx(i(),{href:"/profile",className:"text-gray-400 hover:text-white transition",children:"Profile"}),a.jsx(i(),{href:"/dota",className:"text-gray-400 hover:text-white transition",children:"Dota 2"})]})]}),t?(0,a.jsxs)(i(),{href:"/profile",className:"flex items-center space-x-3 bg-gray-900 hover:bg-gray-800 px-4 py-2 rounded-lg transition",children:[a.jsx("img",{src:t.avatar,alt:t.username,className:"h-8 w-8 rounded-full"}),a.jsx("div",{className:"hidden sm:block",children:a.jsx("div",{className:"text-white font-medium",children:t.username})})]}):(0,a.jsxs)("button",{onClick:f,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-lg font-semibold flex items-center space-x-2 transition",children:[a.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0z"})}),a.jsx("span",{children:"Login with Steam"})]})]})})}),(0,a.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(i(),{href:"/",className:"inline-flex items-center text-gray-400 hover:text-white mb-4 transition",children:[a.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back to Home"]}),a.jsx("h1",{className:"text-4xl font-bold text-white mb-2",children:"Counter-Strike 2 Inventory"}),a.jsx("p",{className:"text-gray-400",children:"Your CS2 skins, knives, gloves and items"})]}),t&&a.jsx("div",{className:"mt-4 md:mt-0",children:(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-gray-400 text-sm",children:"Steam ID"}),a.jsx("div",{className:"text-white font-mono",children:t.steamId})]})})]})}),t?l&&l.items&&0!==l.items.length?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-900/20 to-black border border-blue-800/30 rounded-2xl p-6 mb-8",children:a.jsx("div",{className:"flex flex-col sm:flex-row items-center justify-between",children:(0,a.jsxs)("div",{className:"mb-4 sm:mb-0",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"CS2 Inventory Overview"}),(0,a.jsxs)("p",{className:"text-gray-400",children:["Total items: ",a.jsx("span",{className:"text-white font-bold",children:l?.items?.length||0})," â€¢ Tradable: ",a.jsx("span",{className:"text-green-400 font-bold",children:l?.items?.filter(e=>e.tradable).length||0})," â€¢ Marketable: ",a.jsx("span",{className:"text-blue-400 font-bold",children:l?.items?.filter(e=>e.marketable).length||0})]})]})})}),a.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 2xl:grid-cols-7 gap-4",children:(l?.items||[]).map(e=>(0,a.jsxs)("div",{className:"group bg-gradient-to-b from-gray-900 to-black border border-gray-800 hover:border-blue-500 rounded-xl p-3 transition-all hover:scale-[1.02]",children:[(0,a.jsxs)("div",{className:"aspect-square relative mb-3",children:[a.jsx("img",{src:e.icon_url_large||e.icon_url||"https://via.placeholder.com/256",alt:e.name,className:"w-full h-full object-contain rounded-lg group-hover:brightness-110 transition",onError:e=>{e.target.src="https://via.placeholder.com/256"}}),e.amount>1&&a.jsx("div",{className:"absolute -top-2 -right-2 bg-blue-600 text-white text-xs font-bold rounded-full h-6 w-6 flex items-center justify-center",children:e.amount})]}),a.jsx("h3",{className:"text-white font-medium truncate mb-1 text-sm",children:e.name}),a.jsx("p",{className:"text-gray-400 text-xs truncate mb-2",children:e.market_hash_name}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-gray-500",children:v(e)||"Skin"}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[e.tradable&&a.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:"T"}),e.marketable&&a.jsx("span",{className:"text-xs bg-blue-500/20 text-blue-400 px-2 py-1 rounded",children:"M"})]})]})]},e.assetid||e.id))}),(0,a.jsxs)("div",{className:"mt-8 text-center",children:[(0,a.jsxs)("p",{className:"text-gray-400 text-sm",children:["Showing ",(l?.items||[]).length," CS2 items â€¢",p.hasCache?a.jsx("span",{className:"text-green-400",children:"\uD83D\uDCE6 Using cached data"}):a.jsx("span",{className:"text-yellow-400",children:"\uD83C\uDF10 Live data"})," â€¢ Last updated: ",new Date().toLocaleString()]}),(0,a.jsxs)("div",{className:"mt-4 flex justify-center space-x-4 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Cache: ",p.hasCache?"Enabled":"Disabled"]}),a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:"Auto-refresh: 5min"}),a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:"TTL: 5min"})]})]})]}):(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900/20 to-black border border-gray-800 rounded-2xl p-12 text-center",children:[a.jsx("div",{className:"h-16 w-16 bg-gray-800 rounded-2xl flex items-center justify-center mx-auto mb-6",children:a.jsx("span",{className:"text-2xl",children:"\uD83D\uDD2B"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"No CS2 Items Found"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Your CS2 inventory appears to be empty or private"}),(0,a.jsxs)("div",{className:"text-gray-500 text-sm space-y-1 max-w-md mx-auto",children:[a.jsx("p",{children:"To see your CS2 items:"}),a.jsx("p",{children:"1. Make sure you have CS2 items in your Steam inventory"}),a.jsx("p",{children:'2. Set your Steam inventory privacy to "Public"'}),(0,a.jsxs)("p",{children:["3. Visit ",a.jsx("a",{href:"https://steamcommunity.com/my/inventory/",target:"_blank",className:"text-blue-400",children:"your Steam inventory"})]})]})]}):(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-12 text-center",children:[a.jsx("div",{className:"h-20 w-20 bg-blue-500/20 rounded-2xl flex items-center justify-center mx-auto mb-8",children:a.jsx("span",{className:"text-3xl",children:"\uD83D\uDD2B"})}),a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Login to View CS2 Inventory"}),a.jsx("p",{className:"text-gray-400 mb-8 max-w-md mx-auto",children:"Connect your Steam account to view your CS2 skins, knives, and other items"}),(0,a.jsxs)("button",{onClick:f,className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-8 py-4 rounded-xl font-semibold inline-flex items-center space-x-3 transition",children:[a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M11.979 0C5.678 0 .511 4.86.022 11.037l6.432 2.658c.545-.371 1.203-.59 1.912-.59.063 0 .125.004.188.006l2.861-4.142V8.91c0-2.495 2.028-4.524 4.524-4.524 2.494 0 4.524 2.031 4.524 4.527s-2.03 4.525-4.524 4.525h-.105l-4.076 2.911c0 .052.004.105.004.159 0 1.875-1.515 3.396-3.39 3.396-1.635 0-3.016-1.173-3.331-2.727L.436 15.27C1.862 20.307 6.486 24 11.979 24c6.627 0 11.999-5.373 11.999-12S18.605 0 11.979 0z"})}),a.jsx("span",{className:"text-lg",children:"Login with Steam"})]})]})]})]})}},9543:(e,t,s)=>{"use strict";s.d(t,{z:()=>n});let a={defaultTTL:3e5,maxCacheSize:50,cleanupInterval:6e4};class r{constructor(e={}){this.cache=new Map,this.cleanupTimer=null,this.config={...a,...e},this.startCleanupTimer()}generateKey(e,t,s){let a=s?`:${s}`:"";return`inventory:${e}:${t}${a}`}isEntryValid(e){let t=Date.now();return t-e.timestamp<e.ttl}getInventory(e,t,s){let a=this.generateKey(e,t,s),r=this.cache.get(a);return r?this.isEntryValid(r)?(console.log(`ðŸ“¦ Cache HIT for ${a}`),r.data):(console.log(`ðŸ“¦ Cache EXPIRED for ${a}`),this.cache.delete(a),null):(console.log(`ðŸ“¦ Cache MISS for ${a}`),null)}setInventory(e,t,s,a,r){let n=this.generateKey(e,t,r),l=a||this.config.defaultTTL,i={data:s,timestamp:Date.now(),ttl:l};this.cache.size>=this.config.maxCacheSize&&this.evictOldest(),this.cache.set(n,i),console.log(`ðŸ“¦ Cache SET for ${n} (TTL: ${l}ms)`)}evictOldest(){let e=null,t=Date.now();for(let[s,a]of this.cache.entries())a.timestamp<t&&(t=a.timestamp,e=s);e&&(this.cache.delete(e),console.log(`ðŸ“¦ Evicted oldest cache entry: ${e}`))}invalidateInventory(e,t,s){let a=this.generateKey(e,t,s);this.cache.has(a)&&(this.cache.delete(a),console.log(`ðŸ“¦ Cache INVALIDATED for ${a}`))}invalidateUser(e){let t=[];for(let s of this.cache.keys())s.startsWith(`inventory:${e}:`)&&t.push(s);t.forEach(e=>this.cache.delete(e)),console.log(`ðŸ“¦ Invalidated ${t.length} cache entries for user ${e}`)}clear(){this.cache.clear(),console.log(`ðŸ“¦ Cache CLEARED`)}getStats(){let e={size:this.cache.size,maxSize:this.config.maxCacheSize,entries:[]},t=Date.now();for(let[s,a]of this.cache.entries())e.entries.push({key:s,age:t-a.timestamp,ttl:a.ttl,valid:this.isEntryValid(a)});return e}startCleanupTimer(){this.cleanupTimer&&clearInterval(this.cleanupTimer),this.cleanupTimer=setInterval(()=>{this.cleanup()},this.config.cleanupInterval),console.log(`ðŸ§¹ Cleanup timer started (interval: ${this.config.cleanupInterval}ms)`)}stopCleanupTimer(){this.cleanupTimer&&(clearInterval(this.cleanupTimer),this.cleanupTimer=null,console.log(`ðŸ§¹ Cleanup timer stopped`))}cleanup(){this.cache.size;let e=Date.now(),t=[];for(let[s,a]of this.cache.entries())e-a.timestamp>=a.ttl&&t.push(s);if(t.forEach(e=>this.cache.delete(e)),t.length>0&&console.log(`ðŸ§¹ Cleaned up ${t.length} expired cache entries`),this.cache.size>this.config.maxCacheSize){let e=this.cache.size-this.config.maxCacheSize;for(let t=0;t<e;t++)this.evictOldest();console.log(`ðŸ§¹ Evicted ${e} oldest entries due to size limit`)}}saveToStorage(){try{let e=JSON.stringify({cache:Array.from(this.cache.entries()),timestamp:Date.now()});localStorage.setItem("inventory_cache",e),console.log(`ðŸ’¾ Cache saved to localStorage (${this.cache.size} entries)`)}catch(e){console.error(`ðŸ’¾ Failed to save cache to localStorage:`,e)}}loadFromStorage(){try{let e=localStorage.getItem("inventory_cache");if(!e)return;let t=JSON.parse(e),s=t.cache,a=Date.now(),r=0;for(let[e,t]of s)a-t.timestamp<t.ttl&&(this.cache.set(e,t),r++);console.log(`ðŸ’¾ Loaded ${r} valid cache entries from localStorage`)}catch(e){console.error(`ðŸ’¾ Failed to load cache from localStorage:`,e)}}hasRecentCache(e,t,s){let a=this.generateKey(e,t,s),r=this.cache.get(a);return!!r&&this.isEntryValid(r)}getCacheAge(e,t,s){let a=this.generateKey(e,t,s),r=this.cache.get(a);return r?Date.now()-r.timestamp:-1}initPageUnloadHandler(){}}let n=new r({defaultTTL:3e5,maxCacheSize:50,cleanupInterval:6e4});n.initPageUnloadHandler()},6384:(e,t,s)=>{"use strict";s.d(t,{i:()=>i});var a=s(4218),r=s(2828),n=s(9543),l=s(931);function i(e){let{appId:t,enabled:s=!0,refetchInterval:i,retryOnFailure:c=!0}=e,[o,d]=(0,a.useState)(null),[h,m]=(0,a.useState)(!1),[x,u]=(0,a.useState)(null),[p,g]=(0,a.useState)(0),f=l.c.getSteamId();n.z.hasRecentCache(f||"anonymous",t),n.z.getCacheAge(f||"anonymous",t),n.z.hasRecentCache(f||"anonymous",t);let v=(0,a.useCallback)(async(e=!1)=>{if(!s||!f){u("Not authenticated");return}m(!0);let a=performance.now();try{let s;let l=`${f}:${t}`,i=f?`?steamid=${encodeURIComponent(f)}`:"";if(!e){let e=n.z.getInventory(f,t,i);if(e){d(e),u(null);let t=performance.now();g(t-a),console.log(`ðŸ“¦ Using cached inventory (${t-a}ms)`);return}}if(console.log(`ðŸŒ Fetching fresh inventory for ${l}`),730===t)s=await r.x.getCs2Inventory();else if(570===t)s=await r.x.getDotaInventory();else throw Error(`Unsupported app ID: ${t}`);if(s.success)n.z.setInventory(f,t,s,void 0,i),d(s),u(null);else{u(s.error||"Failed to fetch inventory");let e=n.z.getInventory(f,t,i);e&&(d(e),console.warn("\uD83D\uDCE6 Using stale cache due to API error"))}}catch(e){if(console.error("âŒ Failed to fetch inventory:",e),u(e.message||"Network error"),c){let e=n.z.getInventory(f,t,f?`?steamid=${encodeURIComponent(f)}`:"");e&&(d(e),console.warn("\uD83D\uDCE6 Using cached data due to error"))}}finally{let e=performance.now();g(e-a),m(!1)}},[f,t,s,c]),b=(0,a.useCallback)(async()=>{await v(!0)},[v]),y=(0,a.useCallback)(()=>{f&&(n.z.invalidateInventory(f,t),console.log(`ðŸ“¦ Cache invalidated for ${f}:${t}`))},[f,t]),j=(0,a.useCallback)(()=>{n.z.clear(),console.log("\uD83D\uDCE6 All cache cleared")},[]);return(0,a.useEffect)(()=>{s&&f&&v()},[v,s,f]),(0,a.useEffect)(()=>{if(!i||!s||!f)return;let e=setInterval(()=>{console.log(`ðŸ”„ Auto-refreshing inventory for app ${t}`),v(!0)},i);return()=>clearInterval(e)},[i,s,f,t,v]),(0,a.useEffect)(()=>()=>{},[]),{inventory:o,isLoading:h,error:x,refetch:b,invalidateCache:y,clearCache:j,cacheStatus:{hasCache:n.z.hasRecentCache(f||"anonymous",t),cacheAge:n.z.getCacheAge(f||"anonymous",t),isCacheValid:n.z.hasRecentCache(f||"anonymous",t)},stats:{totalItems:o?.items?.length||0,loadingTime:p}}}},6102:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>c});var a=s(5153);let r=(0,a.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/cs2/page.tsx`),{__esModule:n,$$typeof:l}=r,i=r.default,c=i}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[581,646,919],()=>s(2778));module.exports=a})();