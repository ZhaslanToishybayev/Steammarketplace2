(()=>{var e={};e.id=942,e.ids=[942],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2043:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>g,originalPathname:()=>m,pages:()=>d,routeModule:()=>h,tree:()=>o});var a=s(7096),r=s(6132),i=s(7284),n=s.n(i),l=s(2564),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["optimization-testing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1272)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/optimization-testing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,769)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],d=["/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/optimization-testing/page.tsx"],m="/optimization-testing/page",g={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/optimization-testing/page",pathname:"/optimization-testing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},7741:(e,t,s)=>{Promise.resolve().then(s.bind(s,8452))},8452:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(3854),r=s(4218),i=s(6384),n=s(3237),l=s(8300),c=s(7476),o=s(8175),d=s(9543),m=s(9638),g=s(931);function h(){let[e]=(0,r.useState)(g.c.getUser()),[t,s]=(0,r.useState)([]),[h,u]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null),{stats:f}=(0,n.K)(),{clearSelection:y}=(0,n.useSelectedItems)(),b=(0,l.b3)(),{prefetchInventoryInBackground:v}=(0,l.Xq)(),j=(0,c.KB)(),{inventory:w,isLoading:N,refetch:C,invalidateCache:P,clearCache:D,cacheStatus:T,stats:k}=(0,i.i)({appId:730,enabled:!0}),{inventory:I,isLoading:S,refetch:z,invalidateCache:O,clearCache:M,cacheStatus:$,stats:q}=(0,i.i)({appId:570,enabled:!0}),[A,E]=(0,r.useState)(""),[H,F]=(0,r.useState)({field:"name",direction:"asc"}),J=(0,o.g_)(w?.items||[],{search:A,tradable:void 0,marketable:void 0});(0,o.a4)(J,H),(0,o.B8)(w?.items||[]);let L=async(e,t,a)=>{p(e),s(t=>t.map(t=>t.id===e?{...t,status:"running"}:t));let r=Date.now();try{let i=await a(),n=Date.now()-r;s(t=>t.map(t=>t.id===e?{...t,status:"success",duration:n,details:i.details||[`Completed in ${n}ms`]}:t)),console.log(`âœ… Test ${t} passed: ${n}ms`)}catch(i){let a=Date.now()-r;s(t=>t.map(t=>t.id===e?{...t,status:"failed",duration:a,error:i instanceof Error?i.message:String(i)}:t)),console.error(`âŒ Test ${t} failed:`,i)}finally{p(null)}},U=()=>{s([{id:"cache-warmup",name:"Cache Warmup",status:"pending",details:["Warming up inventory cache..."]},{id:"cache-hit",name:"Cache Hit Performance",status:"pending",details:["Testing cache retrieval speed..."]},{id:"image-cache",name:"Image Caching",status:"pending",details:["Testing image cache performance..."]},{id:"memoization",name:"Memoization Effectiveness",status:"pending",details:["Testing computation caching..."]},{id:"prefetching",name:"Prefetching Accuracy",status:"pending",details:["Testing predictive loading..."]},{id:"progress-indicators",name:"Progress Feedback",status:"pending",details:["Testing user feedback systems..."]},{id:"memory-usage",name:"Memory Management",status:"pending",details:["Testing memory efficiency..."]},{id:"error-handling",name:"Error Resilience",status:"pending",details:["Testing error recovery..."]},{id:"concurrent-operations",name:"Concurrent Operations",status:"pending",details:["Testing parallel operations..."]},{id:"performance-baseline",name:"Performance Baseline",status:"pending",details:["Establishing performance metrics..."]}])},Z=async()=>{if(!e){alert("Please log in to run tests");return}u(!0),U();try{await L("cache-warmup","Cache Warmup",async()=>{let e=Date.now();w||await C(),I||await z();let t=Date.now()-e;return{duration:t,details:[`CS2 Items: ${w?.items?.length||0}`,`Dota Items: ${I?.items?.length||0}`,"Cache warmed successfully"]}}),await L("cache-hit","Cache Hit Performance",async()=>{let e=Date.now();await C(),await z();let t=Date.now()-e,s=d.z.getStats();return{duration:t,details:[`Cache hit time: ${t}ms`,`Cached inventories: ${s.size}`,`CS2 cache age: ${Math.floor(T.cacheAge/1e3)}s`,`Dota cache age: ${Math.floor($.cacheAge/1e3)}s`]}}),await L("image-cache","Image Caching",async()=>{let e=Date.now(),t=["https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxH5ZdgJ5IO4y0XhJ0LQFtqDiVc1dozJYx1hHI3uXCxhHKonOCMKKTdHBxvgulC5hQJ2kZ0O6b8u6jxMzJiOvuI5fYl7dVhslcPDvcqZO83FL5tBm0p4e8V8ZdJcH2N1aImFq0q5OZnW7xP1f8j7u9l1nDc7bqkF86tO6dkjwJvOa9Cii59Nf8K4K6bDiikbP9ZwJkqTq3CwqzO865LQ/256fx256f","https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxH5ZdgJ5IO4y0XhJ0LQFtqDiVc1dozJYx1hHI3uXCxhHKonOCMKKTdHBxvgulC5hQJ2kZ0O6b8u6jxMzJiOvuI5fYl7dVhslcPDvcqZO83FL5tBm0p4e8V8ZdJcH2N1aImFq0q5OZnW7xP1f8j7u9l1nDc7bqkF86tO6dkjwJvOa9Cii59Nf8K4K6bDiikbP9ZwJkqTq3CwqzO865LQ/256fx256f"];for(let e of t)await m.U.preloadImage(e);let s=Date.now()-e;return{duration:s,details:[`Images cached: ${t.length}`,`Cache size: ${(f.totalSize/1024/1024).toFixed(2)} MB`,`Cached entries: ${f.count}`,"Image caching completed"]}}),await L("memoization","Memoization Effectiveness",async()=>{let e=Date.now();for(let e=0;e<5;e++){let e=(0,o.g_)(w?.items||[],{search:"AK",tradable:void 0,marketable:void 0});(0,o.a4)(e,{field:"name",direction:"asc"}),(0,o.B8)(w?.items||[])}let t=Date.now()-e;return{duration:t,details:["Filtering operations: 5","Sort operations: 5","Metadata operations: 5",`Memoization effective: ${t<100?"Yes":"Check performance"}`]}}),await L("prefetching","Prefetching Accuracy",async()=>{let e=Date.now(),t=await b.prefetchUserData({dotaInventory:!0,cs2Inventory:!0,itemImages:!0,userProfile:!0}),s=Date.now()-e;return{duration:s,details:[`Prefetch success: ${t.success?"Yes":"No"}`,`Completed: ${t.completed.join(", ")}`,`Failed: ${t.failed.join(", ")}`,`Prefetch duration: ${s}ms`]}}),await L("progress-indicators","Progress Feedback",async()=>{let e=Date.now(),t=j.createSequentialProgress("Test Progress",["Step 1","Step 2","Step 3","Step 4"]);setTimeout(()=>t.nextStep("Step 1 completed"),100),setTimeout(()=>t.nextStep("Step 2 completed"),200),setTimeout(()=>t.nextStep("Step 3 completed"),300),setTimeout(()=>t.completeAll(["All steps completed"]),400),await new Promise(e=>setTimeout(e,500));let s=Date.now()-e;return{duration:s,details:["Progress indicators responsive","Sequential progress working","User feedback provided",`Test duration: ${s}ms`]}}),await L("memory-usage","Memory Management",async()=>{let e=Date.now();d.z.clear(),D(),M(),y();let t=d.z.getStats(),s=Date.now()-e;return{duration:s,details:["Memory cleared successfully",`Remaining cache entries: ${t.size}`,"Memory management effective"]}}),await L("error-handling","Error Resilience",async()=>{let e=Date.now();try{await m.U.preloadImage("invalid-url")}catch(e){}let t=Date.now()-e;return{duration:t,details:["Error handling working","Graceful degradation","System resilience maintained"]}}),await L("concurrent-operations","Concurrent Operations",async()=>{let e=Date.now(),t=Promise.all([C(),z(),b.prefetchUserData({userProfile:!0}),m.U.preloadImage("https://steamcommunity-a.akamaihd.net/economy/image/-9a81dlWLwJ2UUGcVs_nsVtzdOEdtWwKGZZLQHTxH5ZdgJ5IO4y0XhJ0LQFtqDiVc1dozJYx1hHI3uXCxhHKonOCMKKTdHBxvgulC5hQJ2kZ0O6b8u6jxMzJiOvuI5fYl7dVhslcPDvcqZO83FL5tBm0p4e8V8ZdJcH2N1aImFq0q5OZnW7xP1f8j7u9l1nDc7bqkF86tO6dkjwJvOa9Cii59Nf8K4K6bDiikbP9ZwJkqTq3CwqzO865LQ/256fx256f")]);await t;let s=Date.now()-e;return{duration:s,details:["Concurrent operations completed","Parallel processing working","Resource management effective"]}}),await L("performance-baseline","Performance Baseline",async()=>{let e=Date.now(),t={inventoryLoadTime:k.loadingTime,cacheHitRate:T.hasCache?1:0,imageCacheSize:f.count,memoizationHits:0},s=Date.now()-e;return{duration:s,details:[`Inventory load time: ${t.inventoryLoadTime}ms`,`Cache hit rate: ${100*t.cacheHitRate}%`,`Image cache size: ${t.imageCacheSize}`,"Performance baseline established"]}})}finally{u(!1),p(null)}},_=(()=>{let e=t.length,s=t.filter(e=>"success"===e.status).length,a=t.filter(e=>"failed"===e.status).length,r=t.filter(e=>"running"===e.status).length,i=t.filter(e=>"pending"===e.status).length,n=t.filter(e=>e.duration).reduce((e,t)=>e+(t.duration||0),0)/Math.max(t.filter(e=>e.duration).length,1);return{total:e,passed:s,failed:a,running:r,pending:i,averageDuration:n}})();return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx("header",{className:"border-b border-gray-800",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Optimization Testing"}),a.jsx("span",{className:"text-gray-400",children:"Comprehensive validation suite"})]}),e&&a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-gray-400 text-sm",children:"Steam ID"}),a.jsx("div",{className:"text-white font-mono",children:e.steamId})]})})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-8",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Test Suite"}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("span",{className:`font-semibold ${h?"text-yellow-400":"text-green-400"}`,children:h?"Running...":"Ready"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Tests:"}),(0,a.jsxs)("span",{className:"text-white",children:["Total: ",_.total]}),(0,a.jsxs)("span",{className:"text-green-400",children:["Passed: ",_.passed]}),(0,a.jsxs)("span",{className:"text-red-400",children:["Failed: ",_.failed]}),(0,a.jsxs)("span",{className:"text-yellow-400",children:["Running: ",_.running]}),(0,a.jsxs)("span",{className:"text-gray-400",children:["Pending: ",_.pending]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:Z,disabled:h,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-6 py-3 rounded-lg font-semibold transition",children:"\uD83E\uDDEA Run All Tests"}),a.jsx("button",{onClick:()=>{U(),s([])},className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-3 rounded-lg font-semibold transition",children:"\uD83D\uDDD1ï¸ Clear Results"}),(0,a.jsxs)("div",{className:"text-sm text-gray-400",children:["Average duration: ",Math.round(_.averageDuration),"ms"]})]})]}),(0,a.jsxs)("div",{className:"space-y-4 mb-8",children:[t.map(e=>(0,a.jsxs)("div",{className:`bg-gradient-to-br from-gray-900 to-black border rounded-2xl p-6 transition-all ${"success"===e.status?"border-green-500/30":"failed"===e.status?"border-red-500/30":"running"===e.status?"border-blue-500/30 animate-pulse":"border-gray-800"}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:`text-2xl ${"success"===e.status?"text-green-400":"failed"===e.status?"text-red-400":"running"===e.status?"text-blue-400":"text-gray-400"}`,children:"success"===e.status?"âœ…":"failed"===e.status?"âŒ":"running"===e.status?"\uD83D\uDD04":"â³"}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-white font-bold text-lg",children:e.name}),a.jsx("p",{className:"text-gray-400 text-sm",children:"running"===e.status&&x===e.id?"Currently running...":"success"===e.status?`Completed in ${e.duration}ms`:"failed"===e.status?`Failed after ${e.duration}ms`:"Pending execution"})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-semibold ${"success"===e.status?"bg-green-500/20 text-green-400":"failed"===e.status?"bg-red-500/20 text-red-400":"running"===e.status?"bg-blue-500/20 text-blue-400":"bg-gray-500/20 text-gray-400"}`,children:e.status.toUpperCase()}),e.duration&&(0,a.jsxs)("div",{className:"text-gray-400 text-xs mt-1",children:["Duration: ",e.duration,"ms"]})]})]}),e.details&&e.details.length>0&&a.jsx("div",{className:"space-y-1",children:e.details.map((e,t)=>(0,a.jsxs)("div",{className:"text-gray-300 text-sm flex items-center space-x-2",children:[a.jsx("span",{children:"â€¢"}),a.jsx("span",{children:e})]},t))}),e.error&&(0,a.jsxs)("div",{className:"mt-3 bg-red-900/20 border border-red-800/30 rounded-lg p-3",children:[a.jsx("div",{className:"text-red-400 font-semibold mb-1",children:"Error:"}),a.jsx("div",{className:"text-red-300 text-sm",children:e.error})]})]},e.id)),0===t.length&&a.jsx("div",{className:"text-center py-8",children:a.jsx("div",{className:"text-gray-400",children:'No tests to display. Click "Run All Tests" to begin.'})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-2 bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-white font-bold mb-4",children:"Cache Performance"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-white font-semibold mb-2",children:"Inventory Cache"}),(0,a.jsxs)("div",{className:"text-sm space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"CS2 Items:"}),a.jsx("span",{className:"text-white",children:w?.items?.length||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Dota Items:"}),a.jsx("span",{className:"text-white",children:I?.items?.length||0})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"CS2 Cache Age:"}),(0,a.jsxs)("span",{className:"text-white",children:[Math.floor(T.cacheAge/1e3),"s"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Dota Cache Age:"}),(0,a.jsxs)("span",{className:"text-white",children:[Math.floor($.cacheAge/1e3),"s"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Loading Time:"}),(0,a.jsxs)("span",{className:"text-white",children:[k.loadingTime,"ms"]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-4",children:[a.jsx("h4",{className:"text-white font-semibold mb-2",children:"Image Cache"}),(0,a.jsxs)("div",{className:"text-sm space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Cached Images:"}),a.jsx("span",{className:"text-white",children:f.count})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Total Size:"}),(0,a.jsxs)("span",{className:"text-white",children:[(f.totalSize/1024/1024).toFixed(2)," MB"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Oldest Image:"}),a.jsx("span",{className:"text-white",children:f.oldestImage?Math.floor((Date.now()-f.oldestImage)/1e3/60)+" min":"N/A"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Newest Image:"}),a.jsx("span",{className:"text-white",children:f.newestImage?Math.floor((Date.now()-f.newestImage)/1e3/60)+" min":"N/A"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-white font-bold mb-4",children:"Test Summary"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"bg-green-900/20 border border-green-800/30 rounded-lg p-4",children:[a.jsx("div",{className:"text-green-400 font-semibold mb-1",children:"Success Rate"}),(0,a.jsxs)("div",{className:"text-white text-2xl font-bold",children:[_.total>0?Math.round(_.passed/_.total*100):0,"%"]})]}),(0,a.jsxs)("div",{className:"bg-blue-900/20 border border-blue-800/30 rounded-lg p-4",children:[a.jsx("div",{className:"text-blue-400 font-semibold mb-1",children:"Performance"}),(0,a.jsxs)("div",{className:"text-white",children:["Average: ",Math.round(_.averageDuration),"ms",a.jsx("br",{}),"Best Case: ",a.jsx("span",{className:"text-green-400",children:"Under 100ms"}),a.jsx("br",{}),"Acceptable: ",a.jsx("span",{className:"text-yellow-400",children:"Under 1000ms"})]})]}),(0,a.jsxs)("div",{className:"bg-purple-900/20 border border-purple-800/30 rounded-lg p-4",children:[a.jsx("div",{className:"text-purple-400 font-semibold mb-1",children:"Optimization Status"}),(0,a.jsxs)("div",{className:"text-white",children:["Caching: ",a.jsx("span",{className:_.passed>=2?"text-green-400":"text-yellow-400",children:"Active"}),a.jsx("br",{}),"Prefetching: ",a.jsx("span",{className:_.passed>=5?"text-green-400":"text-yellow-400",children:"Active"}),a.jsx("br",{}),"Progress: ",a.jsx("span",{className:_.passed>=6?"text-green-400":"text-yellow-400",children:"Active"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-900/20 to-black border border-blue-800/30 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Testing Protocol"}),(0,a.jsxs)("ul",{className:"text-gray-400 space-y-1 text-sm",children:[a.jsx("li",{children:"â€¢ Cache Warmup: Tests initial data loading and caching"}),a.jsx("li",{children:"â€¢ Cache Hit Performance: Measures cache retrieval speed"}),a.jsx("li",{children:"â€¢ Image Caching: Validates image preloading and storage"}),a.jsx("li",{children:"â€¢ Memoization: Checks computation result caching"}),a.jsx("li",{children:"â€¢ Prefetching: Tests predictive data loading accuracy"}),a.jsx("li",{children:"â€¢ Progress Indicators: Validates user feedback systems"}),a.jsx("li",{children:"â€¢ Memory Management: Tests cache cleanup and memory usage"}),a.jsx("li",{children:"â€¢ Error Handling: Validates graceful error recovery"}),a.jsx("li",{children:"â€¢ Concurrent Operations: Tests parallel processing capabilities"}),a.jsx("li",{children:"â€¢ Performance Baseline: Establishes performance metrics"})]})]})]}):(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Login Required"}),a.jsx("p",{className:"text-gray-400 mb-8",children:"Please log in to run optimization tests"}),a.jsx("a",{href:"/",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold inline-flex items-center space-x-2 transition",children:a.jsx("span",{children:"Login"})})]})})]})}},3237:(e,t,s)=>{"use strict";s.d(t,{K:()=>l,w:()=>n});var a=s(3854),r=s(4218),i=s(9638);function n({src:e,alt:t,className:s,placeholder:n,fallback:l,width:c,height:o,style:d,onLoad:m,onError:g,priority:h=!1}){let[u,x]=(0,r.useState)(null),[p,f]=(0,r.useState)(!h),[y,b]=(0,r.useState)(!1),v=(0,r.useRef)(null),j=(0,r.useRef)(null);(0,r.useEffect)(()=>{let t=!0,s=async()=>{if(e)try{let s=await i.U.getImage(e);if(s){if(!t)return;x(s),f(!1),m?.();return}await w(e)}catch(e){if(console.error("Image loading failed:",e),!t)return;b(!0),f(!1),g?.()}};if(h)s();else{let e=new IntersectionObserver(async t=>{t[0].isIntersecting&&(s(),e.disconnect())},{rootMargin:"50px 0px",threshold:.01});return j.current&&e.observe(j.current),()=>e.disconnect()}return()=>{t=!1}},[e,h,m,g]);let w=async e=>{if(e)return new Promise((t,s)=>{let a=new Image;a.crossOrigin="anonymous",a.onload=async()=>{try{let s=document.createElement("canvas");s.width=a.width,s.height=a.height;let r=s.getContext("2d");r?.drawImage(a,0,0);let n=s.toDataURL("image/png");await i.U.setImage(e,n),x(n),f(!1),m?.(),t()}catch(e){console.error("Failed to cache image:",e),s(e)}},a.onerror=()=>{console.error("Failed to load image:",e),b(!0),f(!1),g?.(),s(Error("Image loading failed"))},a.src=e})},N=()=>{b(!0),f(!1),g?.()};return(0,a.jsxs)("div",{ref:j,className:`relative ${s||""}`,style:d,"aria-busy":p,children:[p&&a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 to-gray-900 animate-pulse",style:{width:c,height:o},children:n&&a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("span",{className:"text-gray-500 text-sm",children:n})})}),y&&!l&&a.jsx("div",{className:"absolute inset-0 bg-gray-800 flex items-center justify-center",style:{width:c,height:o},children:a.jsx("span",{className:"text-gray-400 text-sm",children:"Failed to load"})}),y&&l?a.jsx("img",{ref:v,src:l,alt:t,className:s,width:c,height:o,style:d,onError:N}):u?a.jsx("img",{ref:v,src:u,alt:t,className:s,width:c,height:o,style:d,onLoad:()=>f(!1),onError:N}):null,p&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"w-4 h-4 border-2 border-gray-600 border-t-blue-500 rounded-full animate-spin"})}),u&&!p&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"text-xs bg-green-500/20 text-green-400 px-2 py-1 rounded",children:"\uD83D\uDCE6 Cached"})})]})}function l(){let[e,t]=(0,r.useState)({count:0,totalSize:0,oldestImage:0,newestImage:0}),s=async()=>{let e=await i.U.getStats();t(e)},a=async()=>{await i.U.clear(),await s()},n=async e=>{if(e)try{let t=await i.U.hasImage(e);if(t)return;let s=new Image;return s.crossOrigin="anonymous",new Promise((t,a)=>{s.onload=async()=>{try{let a=document.createElement("canvas");a.width=s.width,a.height=s.height;let r=a.getContext("2d");r?.drawImage(s,0,0);let n=a.toDataURL("image/png");await i.U.setImage(e,n),t()}catch(e){a(e)}},s.onerror=()=>a(Error("Failed to preload image")),s.src=e})}catch(e){console.error("Failed to preload image:",e)}};return(0,r.useEffect)(()=>{s();let e=setInterval(s,5e3);return()=>clearInterval(e)},[]),{stats:e,refreshStats:s,clearCache:a,preloadImage:n}}},7476:(e,t,s)=>{"use strict";s.d(t,{KB:()=>n,jD:()=>o,gf:()=>l,H0:()=>c});var a=s(4218);class r{subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notify(){let e=JSON.parse(JSON.stringify(this.state));this.listeners.forEach(t=>{try{t(e)}catch(e){console.error("Progress indicator listener error:",e)}})}createLoading(e,t,s={}){let a={id:this.generateId(),type:"loading",title:e,message:t,progress:0,startTime:Date.now(),canCancel:s.canCancel||!1,onCancel:s.onCancel};return this.state.active.push(a),this.notify(),console.log(`ðŸ”„ Loading started: ${e}`),a}createProgress(e,t,s=100,a={}){let r={id:this.generateId(),type:"progress",title:e,message:t,progress:0,maxProgress:s,startTime:Date.now(),canCancel:a.canCancel||!1,onCancel:a.onCancel};return this.state.active.push(r),this.notify(),console.log(`ðŸ“Š Progress started: ${e} (max: ${s})`),r}updateProgress(e,t){let s=this.state.active.find(t=>t.id===e);s&&(Object.assign(s,t),"progress"===s.type&&s.progress>=(s.maxProgress||100)&&(s.type="success",s.endTime=Date.now(),s.duration=s.endTime-s.startTime),this.notify(),console.log(`ðŸ“ˆ Progress updated: ${s.title} (${s.progress}%)`))}completeProgress(e,t,s){let a=this.state.active.find(t=>t.id===e);a&&(a.type="success",a.message=t||a.message,a.details=s||a.details,a.endTime=Date.now(),a.duration=a.endTime-a.startTime,a.progress=a.maxProgress||100,this.moveActiveToHistory(a),this.notify(),console.log(`âœ… Progress completed: ${a.title}`))}failProgress(e,t,s){let a=this.state.active.find(t=>t.id===e);a&&(a.type="error",a.message=t instanceof Error?t.message:t,a.details=s||a.details,a.endTime=Date.now(),a.duration=a.endTime-a.startTime,a.progress=0,this.moveActiveToHistory(a),this.notify(),console.warn(`âŒ Progress failed: ${a.title} - ${a.message}`))}cancelProgress(e){let t=this.state.active.find(t=>t.id===e);if(t){if(t.onCancel)try{t.onCancel()}catch(e){console.error("Cancel callback error:",e)}t.type="error",t.message="Operation cancelled",t.endTime=Date.now(),t.duration=t.endTime-t.startTime,t.progress=0,this.moveActiveToHistory(t),this.notify(),console.log(`â¹ï¸ Progress cancelled: ${t.title}`)}}removeProgress(e){let t=this.state.active.findIndex(t=>t.id===e);if(-1!==t){let e=this.state.active[t];this.state.active.splice(t,1),e.endTime||(e.endTime=Date.now(),e.duration=e.endTime-e.startTime,this.moveActiveToHistory(e)),this.notify(),console.log(`ðŸ—‘ï¸ Progress removed: ${e.title}`)}}clearAll(){let e=Date.now();this.state.active.forEach(t=>{t.endTime||(t.endTime=e,t.duration=e-t.startTime,this.moveActiveToHistory(t))}),this.state.active=[],this.notify(),console.log("\uD83E\uDDF9 All progress indicators cleared")}getActive(){return[...this.state.active]}getHistory(){return[...this.state.history]}getProgress(e){return this.state.active.find(t=>t.id===e)||this.state.history.find(t=>t.id===e)}hasActive(){return this.state.active.length>0}getPrimaryProgress(){return this.state.active.find(e=>"progress"===e.type)||this.state.active.find(e=>"loading"===e.type)||this.state.active[0]}createTimedProgress(e,t,s,a={}){let r=this.createProgress(e,t,100,{canCancel:a.canCancel,onCancel:a.onCancel}),i=!1,n=setInterval(()=>{if(i)return;let e=Date.now()-r.startTime,t=Math.min(100,Math.round(e/s*100));this.updateProgress(r.id,{progress:t}),t>=100&&(i=!0,clearInterval(n),this.completeProgress(r.id,void 0,["Timed operation completed successfully"]),a.onComplete?.())},100);return setTimeout(()=>{i||(i=!0,clearInterval(n),this.failProgress(r.id,Error("Operation timed out")),a.onFail?.(Error("Operation timed out")))},s+1e3),r}createSequentialProgress(e,t,s={}){let a=this.createProgress(e,t[0],t.length,{canCancel:s.canCancel,onCancel:s.onCancel}),r=0;return{progress:a,nextStep:e=>{++r<t.length&&(this.updateProgress(a.id,{message:t[r],progress:r}),e&&(a.details=a.details||[],a.details.push(e)))},completeAll:e=>{this.completeProgress(a.id,"All steps completed",e)},fail:(e,t)=>{this.failProgress(a.id,e,t)}}}moveActiveToHistory(e){let t=this.state.active.findIndex(t=>t.id===e.id);-1!==t&&this.state.active.splice(t,1),this.state.history.unshift(e),this.state.history.length>this.state.maxHistory&&(this.state.history=this.state.history.slice(0,this.state.maxHistory))}generateId(){return`progress_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}constructor(){this.state={active:[],history:[],maxHistory:50},this.listeners=new Set}}let i=new r;function n(e={}){let{autoCleanup:t=!0,maxHistory:s=50}=e,[r,n]=(0,a.useState)({active:[],history:[],maxHistory:s}),l=(0,a.useRef)(null);(0,a.useEffect)(()=>(l.current=i.subscribe(e=>{n(e)}),()=>{l.current&&(l.current(),l.current=null)}),[]),(0,a.useEffect)(()=>{if(!t)return;let e=setInterval(()=>{let e=Date.now(),t=e-3e5;if(r.history.length>0){let e=r.history.filter(e=>e.endTime&&e.endTime>t);e.length!==r.history.length&&n(t=>({...t,history:e}))}},3e4);return()=>clearInterval(e)},[r.history,t]);let c=(0,a.useCallback)((e,t,s)=>i.createLoading(e,t,s),[]),o=(0,a.useCallback)((e,t,s=100,a)=>i.createProgress(e,t,s,a),[]),d=(0,a.useCallback)((e,t,s,a)=>i.createTimedProgress(e,t,s,a),[]),m=(0,a.useCallback)((e,t,s)=>i.createSequentialProgress(e,t,s),[]),g=(0,a.useCallback)((e,t)=>{i.updateProgress(e,t)},[]),h=(0,a.useCallback)((e,t,s)=>{i.completeProgress(e,t,s)},[]),u=(0,a.useCallback)((e,t,s)=>{i.failProgress(e,t,s)},[]),x=(0,a.useCallback)(e=>{i.cancelProgress(e)},[]),p=(0,a.useCallback)(e=>{i.removeProgress(e)},[]),f=(0,a.useCallback)(()=>{i.clearAll()},[]),y=(0,a.useCallback)(e=>i.getProgress(e),[]);return{activeProgress:r.active,history:r.history,primaryProgress:r.active.find(e=>"progress"===e.type)||r.active.find(e=>"loading"===e.type)||r.active[0],hasActive:r.active.length>0,createLoading:c,createProgress:o,createTimedProgress:d,createSequentialProgress:m,updateProgress:g,completeProgress:h,failProgress:u,cancelProgress:x,removeProgress:p,clearAll:f,getProgress:y}}function l(e,t,s=100,r){let i=n(),[l,c]=(0,a.useState)(null),o=(0,a.useCallback)(()=>{let a=i.createProgress(e,t,s,r);return c(a),a},[i,e,t,s,r]),d=(0,a.useCallback)(e=>{l&&(i.updateProgress(l.id,e),c(t=>t?{...t,...e}:null))},[i,l]),m=(0,a.useCallback)((e,t)=>{l&&(i.completeProgress(l.id,e,t),c(null))},[i,l]),g=(0,a.useCallback)((e,t)=>{l&&(i.failProgress(l.id,e,t),c(null))},[i,l]),h=(0,a.useCallback)(()=>{l&&(i.cancelProgress(l.id),c(null))},[i,l]);return{progress:l,startProgress:o,updateProgress:d,completeProgress:m,failProgress:g,cancelProgress:h,isRunning:!!l}}function c(e,t,s,r){let i=n(),[l,c]=(0,a.useState)(null),[o,d]=(0,a.useState)(0);(0,a.useEffect)(()=>{let a=i.createTimedProgress(e,t,s,{...r,onComplete:()=>{c(null),d(s)},onFail:()=>{c(null),d(0)}});c(a);let n=setInterval(()=>{a.endTime?d(s):d(Date.now()-a.startTime)},100);return()=>{clearInterval(n),i.removeProgress(a.id)}},[]);let m=l?Math.min(100,Math.round(o/s*100)):100;return{progress:l,elapsed:o,remaining:Math.max(0,s-o),progressPercent:m,isComplete:!l&&o>=s}}function o(e,t,s){let r=n(),[i,l]=(0,a.useState)(null),[c,o]=(0,a.useState)(0),d=r.createSequentialProgress(e,t,s);(0,a.useEffect)(()=>{l(d.progress)},[]);let m=(0,a.useCallback)(e=>{d.nextStep(e),o(e=>Math.min(t.length-1,e+1))},[d,t.length]),g=(0,a.useCallback)(e=>{d.completeAll(e),o(t.length),l(null)},[d,t.length]),h=(0,a.useCallback)((e,t)=>{d.fail(e,t),l(null)},[d]);return{progress:i,currentStep:c,totalSteps:t.length,nextStep:m,completeAll:g,fail:h,isComplete:!i&&c>=t.length}}},1272:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>c});var a=s(5153);let r=(0,a.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/optimization-testing/page.tsx`),{__esModule:i,$$typeof:n}=r,l=r.default,c=l}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[581,919,300,308],()=>s(2043));module.exports=a})();