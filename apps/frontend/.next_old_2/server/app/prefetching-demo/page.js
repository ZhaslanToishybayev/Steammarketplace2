(()=>{var e={};e.id=629,e.ids=[629],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9761:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>d});var a=t(7096),r=t(6132),i=t(7284),l=t.n(i),n=t(2564),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);t.d(s,c);let d=["",{children:["prefetching-demo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1694)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/prefetching-demo/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,769)),"/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/prefetching-demo/page.tsx"],x="/prefetching-demo/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/prefetching-demo/page",pathname:"/prefetching-demo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3143:(e,s,t)=>{Promise.resolve().then(t.bind(t,2539))},2539:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var a=t(3854),r=t(4218),i=t(8300),l=t(9543),n=t(931);function c(){let[e,s]=(0,r.useState)(null),t=e?.steamId,{isPrefetching:c,progress:d,currentTask:o,result:x,error:m,prefetchUserData:h,prefetchInventory:g,cancelAll:p,getStatus:b,clearError:u,startAutoPrefetch:f,stopAutoPrefetch:j,isAutoPrefetching:y}=(0,i.b3)({enabled:!!t}),{prefetchInventoryInBackground:v,prefetchProfileInBackground:N}=(0,i.Xq)(),w=(0,i.Qs)({dotaInventory:!0,cs2Inventory:!0,itemImages:!0});(0,i.h2)({userProfile:!0}),(0,r.useEffect)(()=>{let e=n.c.getUser();e&&s(e)},[]);let k=async()=>{try{await h({dotaInventory:!0,cs2Inventory:!0,itemImages:!0,userProfile:!0})}catch(e){console.error("Quick prefetch failed:",e)}},P=async()=>{try{await h({dotaInventory:!0,cs2Inventory:!1,itemImages:!0,userProfile:!1})}catch(e){console.error("Selective prefetch failed:",e)}},D=async e=>{try{await v(e)}catch(e){console.error("Background inventory prefetch failed:",e)}},S=async()=>{try{await N()}catch(e){console.error("Background profile prefetch failed:",e)}},C=l.z.getStats();return(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx("header",{className:"border-b border-gray-800",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Prefetching Demo"}),a.jsx("span",{className:"text-gray-400",children:"Smart data prefetching"})]}),e&&a.jsx("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("div",{className:"text-gray-400 text-sm",children:"Steam ID"}),a.jsx("div",{className:"text-white font-mono",children:e.steamId})]})})]})})}),a.jsx("main",{className:"container mx-auto px-4 py-8",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prefetching Controls"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:k,disabled:c,className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83D\uDE80 Quick Prefetch All"}),a.jsx("button",{onClick:P,disabled:c,className:"bg-green-600 hover:bg-green-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83C\uDFAF Selective Prefetch"}),a.jsx("button",{onClick:p,disabled:!c,className:"bg-red-600 hover:bg-red-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83D\uDED1 Cancel All"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{onClick:()=>f(),disabled:y,className:"bg-purple-600 hover:bg-purple-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83E\uDD16 Start Auto-Prefetch"}),a.jsx("button",{onClick:j,disabled:!y,className:"bg-orange-600 hover:bg-orange-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg font-semibold transition",children:"⏹️ Stop Auto-Prefetch"})]})]}),a.jsx("div",{className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{...w,className:"bg-cyan-600 hover:bg-cyan-700 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83E\uDDE0 Hover Prefetch"}),a.jsx("button",{onClick:()=>D(730),className:"bg-yellow-600 hover:bg-yellow-700 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83D\uDD2B Background CS2"}),a.jsx("button",{onClick:()=>D(570),className:"bg-pink-600 hover:bg-pink-700 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83C\uDFAE Background Dota 2"}),a.jsx("button",{onClick:S,className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-lg font-semibold transition",children:"\uD83D\uDC64 Background Profile"})]})})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prefetch Progress"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Status:"}),a.jsx("span",{className:`font-semibold ${c?"text-yellow-400":"text-green-400"}`,children:c?"Prefetching...":"Idle"})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-4",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-4 rounded-full transition-all duration-300",style:{width:`${100*d}%`}})}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-400",children:"Progress:"}),(0,a.jsxs)("span",{className:"text-white font-bold",children:[Math.round(100*d),"%"]})]}),o&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Current Task:"}),a.jsx("span",{className:"text-white font-semibold",children:o})]}),m&&(0,a.jsxs)("div",{className:"bg-red-900/20 border border-red-800/30 rounded-lg p-4",children:[a.jsx("div",{className:"text-red-400 font-semibold mb-2",children:"Error"}),a.jsx("div",{className:"text-red-300",children:m.message}),a.jsx("button",{onClick:u,className:"mt-2 text-red-400 hover:text-red-300",children:"Clear"})]})]})]}),x&&(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prefetch Results"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-2",children:"Overall Result:"}),a.jsx("div",{className:`font-bold ${x.success?"text-green-400":"text-yellow-400"}`,children:x.success?"✅ All Success":"⚠️ Partial Success"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-2",children:"Completed:"}),a.jsx("div",{className:"text-green-400",children:x.completed.join(", ")||"None"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-2",children:"Failed:"}),a.jsx("div",{className:"text-red-400",children:x.failed.join(", ")||"None"})]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-gray-400 mb-2",children:"Timing:"}),a.jsx("div",{className:"space-y-1",children:Object.entries(x.timing).map(([e,s])=>(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{className:"text-gray-300",children:[e,":"]}),(0,a.jsxs)("span",{className:"text-white font-semibold",children:[s,"ms"]})]},e))})]})]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Cache Statistics"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:C.size}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Cached Inventories"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:C.maxSize}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Max Cache Size"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:Math.floor(C.oldestEntryAge/1e3/60)}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Oldest Entry (min)"})]}),(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-white",children:Math.floor(C.newestEntryAge/1e3/60)}),a.jsx("div",{className:"text-gray-400 text-sm",children:"Newest Entry (min)"})]})]}),(0,a.jsxs)("div",{className:"mt-6 space-y-2",children:[a.jsx("div",{className:"text-gray-400 mb-2",children:"Cached Entries:"}),C.entries.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center bg-gray-800/50 rounded-lg p-3",children:[a.jsx("span",{className:"text-gray-300",children:e.key}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-400",children:["Age: ",Math.floor(e.age/1e3/60)," min"]}),a.jsx("span",{className:`px-2 py-1 rounded ${e.valid?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:e.valid?"Valid":"Expired"})]})]},s))]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Prefetching Status"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Auto-prefetching:"}),a.jsx("span",{className:`font-semibold ${y?"text-green-400":"text-gray-400"}`,children:y?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Manual prefetching:"}),a.jsx("span",{className:`font-semibold ${c?"text-yellow-400":"text-gray-400"}`,children:c?"In Progress":"Idle"})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Active prefetches:"}),a.jsx("span",{className:"text-white font-bold",children:b().activePrefetches})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-400",children:"Smart prefetching:"}),a.jsx("span",{className:"text-blue-400 font-semibold",children:"Enabled"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-8 bg-gradient-to-br from-blue-900/20 to-black border border-blue-800/30 rounded-2xl p-6",children:[a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"How Prefetching Works"}),(0,a.jsxs)("ul",{className:"text-gray-400 space-y-1 text-sm",children:[a.jsx("li",{children:"• Quick Prefetch: Fetches all user data (inventories, profile, images)"}),a.jsx("li",{children:"• Selective Prefetch: Fetches only specified data types"}),a.jsx("li",{children:"• Auto-prefetching: Runs automatically every 10 minutes"}),a.jsx("li",{children:"• Hover Prefetch: Triggers on mouse hover (demo)"}),a.jsx("li",{children:"• Background Prefetch: Runs in background without UI blocking"}),a.jsx("li",{children:"• Visibility Prefetch: Triggers when page becomes visible"}),a.jsx("li",{children:"• Smart Prefetching: Prefetches based on recent user activity"}),a.jsx("li",{children:"• Cache Management: Automatic cleanup and TTL management"})]})]})]}):(0,a.jsxs)("div",{className:"bg-gradient-to-br from-gray-900 to-black border border-gray-800 rounded-2xl p-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Login Required"}),a.jsx("p",{className:"text-gray-400 mb-8",children:"Please log in to test prefetching functionality"}),a.jsx("a",{href:"/",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-semibold inline-flex items-center space-x-2 transition",children:a.jsx("span",{children:"Login"})})]})})]})}},1694:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>i,default:()=>c});var a=t(5153);let r=(0,a.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/prefetching-demo/page.tsx`),{__esModule:i,$$typeof:l}=r,n=r.default,c=n}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[581,919,300],()=>t(9761));module.exports=a})();