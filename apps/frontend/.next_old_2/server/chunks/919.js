exports.id=919,exports.ids=[919],exports.modules={5289:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3579,23)),Promise.resolve().then(r.t.bind(r,619,23)),Promise.resolve().then(r.t.bind(r,1459,23)),Promise.resolve().then(r.t.bind(r,3456,23)),Promise.resolve().then(r.t.bind(r,847,23)),Promise.resolve().then(r.t.bind(r,7303,23))},2133:(e,t,r)=>{Promise.resolve().then(r.bind(r,5068)),Promise.resolve().then(r.bind(r,6466))},5068:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(3854),a=r(6798),n=r(6214),i=r(5256),o=r(4218),l=r(2693),c=r(182);function d({children:e}){let[t]=(0,o.useState)(()=>new a.S({defaultOptions:{queries:{refetchOnWindowFocus:!1,staleTime:6e4}}}));return s.jsx(n.aH,{client:t,children:s.jsx(l.Z,{children:(0,s.jsxs)(c.VW,{children:[e,s.jsx(i.x7,{position:"bottom-right",toastOptions:{style:{background:"#1a1a2e",color:"#fff",border:"1px solid #3b82f6"}}})]})})})}},6466:(e,t,r)=>{"use strict";r.r(t),r.d(t,{StagingBanner:()=>n});var s=r(3854),a=r(4218);let n=()=>{let[e,t]=(0,a.useState)(!0);return e?(0,s.jsxs)("div",{className:"bg-yellow-600/90 text-white px-4 py-2 text-sm font-medium text-center relative z-[60]",children:[(0,s.jsxs)("p",{children:["\uD83D\uDEA7 ",s.jsx("strong",{children:"STAGING ENVIRONMENT"}),": System is in Beta. Used for testing only. All money and items are ",s.jsx("strong",{children:"VIRTUAL"}),". Real payments are disabled."]}),s.jsx("button",{onClick:()=>t(!1),className:"absolute right-4 top-1/2 -translate-y-1/2 p-1 hover:bg-white/20 rounded","aria-label":"Dismiss staging warning",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6ly12 12"})})})]}):null}},182:(e,t,r)=>{"use strict";r.d(t,{VW:()=>c});var s=r(3854),a=r(4218),n=r(9931),i=r(1535),o=r(2457),l=r(8504);let c=i.zt,d=a.forwardRef(({className:e,...t},r)=>s.jsx(i.l_,{ref:r,className:(0,l.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));d.displayName=i.l_.displayName;let u=(0,o.j)("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),m=a.forwardRef(({className:e,variant:t,...r},a)=>s.jsx(i.fC,{ref:a,className:(0,l.cn)(u({variant:t}),e),...r}));m.displayName=i.fC.displayName;let p=a.forwardRef(({className:e,...t},r)=>s.jsx(i.aU,{ref:r,className:(0,l.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));p.displayName=i.aU.displayName;let h=a.forwardRef(({className:e,...t},r)=>s.jsx(i.x8,{ref:r,className:(0,l.cn)("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(n.Pxu,{className:"h-4 w-4"})}));h.displayName=i.x8.displayName;let g=a.forwardRef(({className:e,...t},r)=>s.jsx(i.Dx,{ref:r,className:(0,l.cn)("text-sm font-semibold [&+div]:text-xs",e),...t}));g.displayName=i.Dx.displayName;let f=a.forwardRef(({className:e,...t},r)=>s.jsx(i.dk,{ref:r,className:(0,l.cn)("text-sm opacity-90",e),...t}));f.displayName=i.dk.displayName},2693:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c,j:()=>o});var s=r(3854),a=r(4218),n=r(2828);let i=(0,a.createContext)(null);function o(){let e=(0,a.useContext)(i);if(!e)throw Error("useCart must be used within CartProvider");return e}let l="http://localhost:3001";function c({children:e}){let[t,r]=(0,a.useState)([]),[o,c]=(0,a.useState)(!0),d=(0,a.useCallback)(async()=>{try{let e=await fetch(`${l}/api/cart`,{credentials:"include"}),t=await e.json();t.success&&r(t.data.items||[])}catch(e){console.error("Failed to fetch cart:",e)}finally{c(!1)}},[]);(0,a.useEffect)(()=>{d()},[d]);let u=async e=>{try{let t=await fetch(`${l}/api/cart/add`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(e)}),s=await t.json();if(s.success)return r(s.data.items||[]),!0;return!1}catch(e){return console.error("Failed to add to cart:",e),!1}},m=async e=>{try{let t=await fetch(`${l}/api/cart/${e}`,{method:"DELETE",credentials:"include"}),s=await t.json();s.success&&r(s.data.items||[])}catch(e){console.error("Failed to remove from cart:",e)}},p=async()=>{try{await fetch(`${l}/api/cart`,{method:"DELETE",credentials:"include"}),r([])}catch(e){console.error("Failed to clear cart:",e)}},h=t.reduce((e,t)=>e+(t.price||0),0),g=async()=>{try{if(0===t.length)return!1;let e=t.map(e=>e.listingId),r=await n.x.escrow.buyCart(e);if(r.success)return await p(),!0;return!1}catch(e){return console.error("Checkout failed:",e),!1}};return s.jsx(i.Provider,{value:{items:t,itemCount:t.length,totalPrice:h,isLoading:o,addToCart:u,removeFromCart:m,clearCart:p,isInCart:e=>t.some(t=>t.listingId===e),refreshCart:d,checkout:g},children:e})}},2828:(e,t,r)=>{"use strict";r.d(t,{x:()=>i});var s=r(931);let a=(process.env.NEXT_PUBLIC_BACKEND_URL||"http://localhost:3001")+"/api";class n{async request(e,t){let r=`${a}${e}`,s=await fetch(r,{...t,credentials:"include",headers:{"Content-Type":"application/json",...t?.headers}});if(!s.ok){let e=await s.json().catch(()=>({}));throw Error(e.message||e.error||`HTTP ${s.status}: ${s.statusText}`)}return s.json()}async checkAuth(){try{let e=await this.request("/auth/check");return e.authenticated}catch{return!1}}async getProfile(){return this.request("/profile")}async updateProfile(e){return this.request("/profile/update",{method:"POST",body:JSON.stringify(e)})}async getCs2Inventory(e={}){let t=s.c.getSteamId(),r=new URLSearchParams;t&&r.append("steamid",t),e.page&&r.append("page",e.page.toString()),e.limit&&r.append("limit",e.limit.toString()),e.search&&r.append("search",e.search),e.sort&&r.append("sort",e.sort);let a=r.toString()?`?${r.toString()}`:"";return this.request(`/inventory/cs2${a}`)}async getDotaInventory(){let e=s.c.getSteamId(),t=e?`?steamid=${encodeURIComponent(e)}`:"";return this.request(`/inventory/dota${t}`)}async syncInventory(){return this.request("/inventory/sync",{method:"POST"})}async getInventory(e){return this.request(`/inventory/cs2?steamid=${encodeURIComponent(e)}`)}async getItem(e){return this.request(`/inventory/item/${e}`)}async getItemPricing(e,t){return this.request(`/inventory/item/${e}/pricing?timeRange=${t}`)}async logout(){return this.request("/auth/logout")}async getWalletBalance(){return this.request("/wallet/balance")}async debugDeposit(e){return this.request("/wallet/deposit",{method:"POST",body:JSON.stringify({amount:e})})}constructor(){this.escrow={getListings:async e=>{let t=new URLSearchParams(e);return this.request(`/escrow/listings?${t}`)},buyListing:async e=>this.request(`/escrow/buy/${e}`,{method:"POST"}),buyCart:async e=>this.request("/escrow/buy-cart",{method:"POST",body:JSON.stringify({listingIds:e})}),retryTrade:async e=>this.request(`/escrow/trades/${e}/retry`,{method:"POST"}),cancelTrade:async e=>this.request(`/escrow/trades/${e}/cancel`,{method:"POST"})},this.p2p={getMyListings:async()=>this.request("/p2p/my-listings"),createListing:async e=>this.request("/p2p/list",{method:"POST",body:JSON.stringify(e)}),buyListing:async(e,t)=>this.request(`/p2p/buy/${e}`,{method:"POST",body:JSON.stringify({buyerTradeUrl:t})}),cancelListing:async e=>this.request(`/p2p/listing/${e}`,{method:"DELETE"}),getSales:async()=>this.request("/p2p/sales")}}}let i=new n},931:(e,t,r)=>{"use strict";r.d(t,{c:()=>a});class s{setUser(e){localStorage.setItem(this.USER_KEY,JSON.stringify(e))}getUser(){if("undefined"==typeof localStorage)return null;let e=localStorage.getItem(this.USER_KEY);if(!e)return null;try{return JSON.parse(e)}catch{return null}}clearUser(){"undefined"!=typeof localStorage&&localStorage.removeItem(this.USER_KEY)}isAuthenticated(){return null!==this.getUser()}getSteamId(){if("undefined"==typeof localStorage)return null;let e=this.getUser();return e?.steamId||null}setSessionToken(e){"undefined"!=typeof localStorage&&localStorage.setItem(this.TOKEN_KEY,e)}getSessionToken(){return"undefined"==typeof localStorage?null:localStorage.getItem(this.TOKEN_KEY)}clearSession(){this.clearUser(),"undefined"!=typeof localStorage&&localStorage.removeItem(this.TOKEN_KEY)}constructor(){this.USER_KEY="steam_user",this.TOKEN_KEY="steam_token"}}let a=new s},8504:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(9395),a=r(1088);function n(...e){return(0,a.m6)((0,s.W)(e))}},769:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>f,metadata:()=>g});var s=r(4656),a=r(177),n=r.n(a);r(5023);var i=r(5153);let o=(0,i.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/app/providers.tsx`),{__esModule:l,$$typeof:c}=o,d=o.default,u=(0,i.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/components/StagingBanner.tsx`),{__esModule:m,$$typeof:p}=u;u.default;let h=(0,i.createProxy)(String.raw`/home/zhaslan/Downloads/Telegram Desktop/Steammarketplace2-main (2)/Steammarketplace2-main/apps/frontend/src/components/StagingBanner.tsx#StagingBanner`),g={title:"Steam Marketplace",description:"View your Steam CS2 and Dota 2 inventory"};function f({children:e}){return s.jsx("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${n().className} bg-black text-white min-h-screen`,children:[s.jsx(h,{}),s.jsx(d,{children:e})]})})}},5023:()=>{}};